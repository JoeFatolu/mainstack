"use client";
import Link from "next/link";
import { usePathname } from "next/navigation";
import { analytics, apps, chat, crm, home, notification, revenue } from "../icons";
import classnames from "classnames";
import { useAuth } from "@/app/auth/Provider";

const navs = [
  {
    label: "Home",
    href: "/",
    icon: home,
  },
  {
    label: "Analytics",
    href: "/analytics",
    icon: analytics,
  },
  {
    label: "Revenue",
    href: "/revenue",
    icon: revenue,
  },
  {
    label: "CRM",
    href: "/crm",
    icon: crm,
  },
  {
    label: "Apps",
    href: "/apps",
    icon: apps,
  },
];

export default function Header() {
  const pathname = usePathname();
  const { user } = useAuth();

  return (
    <header className="h-16 rounded-full flex items-center justify-between">
      <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M29.0842 12.5509H24.301C24.0719 12.5509 23.8521 12.4598 23.6901 12.2978C23.528 12.1358 23.437 11.916 23.437 11.6868V6.96123C23.437 6.73208 23.528 6.51232 23.6901 6.35029C23.8521 6.18826 24.0719 6.09723 24.301 6.09723H26.1778C28.2598 6.09723 29.9482 7.78443 29.9482 9.86644V11.6868C29.9482 11.916 29.8572 12.1358 29.6951 12.2978C29.5331 12.4598 29.3134 12.5509 29.0842 12.5509Z"
          fill="#131316"
        />
        <path
          d="M6.0625 26.1516V15.6012C6.0625 15.4877 6.08485 15.3754 6.12827 15.2705C6.17169 15.1657 6.23533 15.0705 6.31556 14.9902C6.39579 14.91 6.49104 14.8464 6.59586 14.803C6.70069 14.7595 6.81304 14.7372 6.9265 14.7372H11.6833C11.9124 14.7372 12.1322 14.8282 12.2942 14.9902C12.4563 15.1523 12.5473 15.372 12.5473 15.6012V29.058C12.5473 29.2871 12.4563 29.5069 12.2942 29.6689C12.1322 29.831 11.9124 29.922 11.6833 29.922H9.8329C7.7509 29.922 6.0625 28.2336 6.0625 26.1516Z"
          fill="#131316"
        />
        <path
          d="M14.748 26.1516V15.6012C14.748 15.372 14.8391 15.1523 15.0011 14.9902C15.1631 14.8282 15.3829 14.7372 15.612 14.7372H20.3688C20.598 14.7372 20.8178 14.8282 20.9798 14.9902C21.1418 15.1523 21.2328 15.372 21.2328 15.6012V29.058C21.2328 29.2871 21.1418 29.5069 20.9798 29.6689C20.8178 29.831 20.598 29.922 20.3688 29.922H18.5184C16.4364 29.922 14.748 28.2336 14.748 26.1516Z"
          fill="#131316"
        />
        <path
          d="M23.4336 26.1516V15.6012C23.4336 15.372 23.5246 15.1523 23.6866 14.9902C23.8487 14.8282 24.0684 14.7372 24.2976 14.7372H29.0543C29.2835 14.7372 29.5032 14.8282 29.6652 14.9902C29.8273 15.1523 29.9183 15.372 29.9183 15.6012V29.058C29.9183 29.2871 29.8273 29.5069 29.6652 29.6689C29.5032 29.831 29.2835 29.922 29.0543 29.922H27.2039C25.122 29.922 23.4336 28.2336 23.4336 26.1516Z"
          fill="#131316"
        />
        <path
          d="M17.5417 6.0876L6.91816 6.078C6.68922 6.078 6.46964 6.16887 6.30764 6.33064C6.14565 6.49241 6.05448 6.71186 6.05416 6.9408L6.05176 8.838C6.05056 10.8768 7.70176 12.5328 9.74175 12.534L20.3653 12.5448C20.5946 12.5448 20.8145 12.4538 20.9767 12.2918C21.1389 12.1298 21.2302 11.9101 21.2305 11.6808V9.7848C21.2341 7.7448 19.5817 6.09 17.5417 6.0876Z"
          fill="#131316"
        />
      </svg>
      <nav>
        <ul className="flex gap-5">
          {navs.map((i) => (
            <li>
              <Link
                href={i.href}
                className={classnames({
                  "flex items-center gap-1 text-base h-10 rounded-full  ": true,
                  "text-white fill-white bg-black-300 ": pathname === i.href,
                  "text-gray-400 fill-gray-400 bg-white hover:bg-gray-50": pathname !== i.href,
                })}
                style={{ padding: "18px" }}
              >
                {i.icon}
                {i.label}
              </Link>
            </li>
          ))}
        </ul>
      </nav>
      <div className="flex items-center gap-4">
        {notification}
        {chat}
        <div className="bg-gray-50 flex items-center gap-2 p-2 rounded-full ">
          <div
            className="h-8 w-8 rounded-full text-sm leading-4 text-white flex items-center justify-center"
            style={{
              background: "linear-gradient(138.98deg, #5C6670 2.33%, #131316 96.28%)",
            }}
          >
            {!!user && `${user.first_name[0]}${user.last_name[0]}`}
          </div>
          <svg width="18" height="12" viewBox="0 0 18 12" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M1 11.275C0.85 11.275 0.729333 11.225 0.638 11.125C0.546 11.025 0.5 10.9083 0.5 10.775C0.5 10.625 0.546 10.5043 0.638 10.413C0.729333 10.321 0.85 10.275 1 10.275H17C17.15 10.275 17.271 10.321 17.363 10.413C17.4543 10.5043 17.5 10.625 17.5 10.775C17.5 10.9083 17.4543 11.025 17.363 11.125C17.271 11.225 17.15 11.275 17 11.275H1ZM1 6.49998C0.85 6.49998 0.729333 6.44998 0.638 6.34998C0.546 6.24998 0.5 6.13331 0.5 5.99998C0.5 5.84998 0.546 5.72898 0.638 5.63698C0.729333 5.54564 0.85 5.49998 1 5.49998H17C17.15 5.49998 17.271 5.54998 17.363 5.64998C17.4543 5.74998 17.5 5.86664 17.5 5.99998C17.5 6.14998 17.4543 6.27098 17.363 6.36298C17.271 6.45431 17.15 6.49998 17 6.49998H1ZM1 1.72498C0.85 1.72498 0.729333 1.67898 0.638 1.58698C0.546 1.49564 0.5 1.37498 0.5 1.22498C0.5 1.09164 0.546 0.974976 0.638 0.874976C0.729333 0.774976 0.85 0.724976 1 0.724976H17C17.15 0.724976 17.271 0.774976 17.363 0.874976C17.4543 0.974976 17.5 1.09164 17.5 1.22498C17.5 1.37498 17.4543 1.49564 17.363 1.58698C17.271 1.67898 17.15 1.72498 17 1.72498H1Z"
              fill="#56616B"
            />
          </svg>
        </div>
      </div>
    </header>
  );
}
